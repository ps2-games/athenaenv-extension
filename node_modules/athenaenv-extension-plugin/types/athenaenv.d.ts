// AthenaENV Global Types for PlayStation 2
// This file provides IntelliSense for AthenaENV JavaScript runtime
// DOM types are intentionally excluded as this runs on PS2, not browsers

declare global {
  namespace Screen {
    /** Clear the screen buffer */
    function clear(): void;
    
    /** Flip the screen buffers (display rendered content) */
    function flip(): void;
    
    /** Wait for vertical blank start */
    function waitVblankStart(): void;
    
    /** Enable/disable frame counter display */
    function setFrameCounter(enabled: boolean): void;
    
    /** Get current screen mode */
    function getMode(): number;
    
    /** Set screen mode (NTSC/PAL) */
    function setMode(mode: number): void;
    
    /** Get screen aspect ratio */
    function aspectRatio(): number;
    
    /** Get screen height in pixels */
    function height(): number;
    
    /** Get screen width in pixels */
    function width(): number;
  }

  // ========== Font API ==========
  /** Font rendering class for text display */
  class Font {
    /**
     * Create a new font
     * @param path Optional path to font file
     */
    constructor(path?: string);
    
    /**
     * Print text at specified position
     * @param x X coordinate
     * @param y Y coordinate
     * @param text Text to display
     */
    print(x: number, y: number, text: string): void;
    
    /** Font scale multiplier */
    scale: number;
    
    /** Font color */
    color: Color;
  }

  // ========== Color API ==========
  /** RGBA color representation */
  class Color {
    /**
     * Create a color
     * @param r Red (0-255)
     * @param g Green (0-255)
     * @param b Blue (0-255)
     * @param a Alpha (0-255, default 255)
     */
    constructor(r: number, g: number, b: number, a?: number);
    
    r: number;
    g: number;
    b: number;
    a: number;
  }

  // ========== os API ==========
  namespace os {
    /** Exit the application */
    function exit(): void;
    
    /** Sleep for specified milliseconds */
    function sleep(ms: number): void;
    
    /** Get current timestamp in milliseconds */
    function time(): number;
  }

  // ========== Pads API (PlayStation 2 Controllers) ==========
  namespace Pads {
    /**
     * Get controller state for specified port
     * @param port Controller port (0-3)
     */
    function get(port: number): Pad;
  }

  /** PlayStation 2 controller state */
  interface Pad {
    /** Button state bitfield */
    btns: number;
    
    /** Left analog stick horizontal (-128 to 127) */
    ljoy_h: number;
    
    /** Left analog stick vertical (-128 to 127) */
    ljoy_v: number;
    
    /** Right analog stick horizontal (-128 to 127) */
    rjoy_h: number;
    
    /** Right analog stick vertical (-128 to 127) */
    rjoy_v: number;
  }

  // ========== Sound API ==========
  /** Audio playback class */
  class Sound {
    /**
     * Load a sound file
     * @param path Path to audio file
     */
    constructor(path: string);
    
    /** Start playback */
    play(): void;
    
    /** Pause playback */
    pause(): void;
    
    /** Stop playback and reset */
    stop(): void;
    
    /** Volume level (0.0 - 1.0) */
    volume: number;
  }

  // ========== Draw API (2D Primitives) ==========
  namespace Draw {
    /**
     * Draw a filled rectangle
     * @param x X coordinate
     * @param y Y coordinate
     * @param w Width
     * @param h Height
     * @param color Fill color
     */
    function rect(x: number, y: number, w: number, h: number, color: Color): void;
    
    /**
     * Draw a line
     * @param x1 Start X
     * @param y1 Start Y
     * @param x2 End X
     * @param y2 End Y
     * @param color Line color
     */
    function line(x1: number, y1: number, x2: number, y2: number, color: Color): void;
    
    /**
     * Draw a filled circle
     * @param x Center X
     * @param y Center Y
     * @param radius Circle radius
     * @param color Fill color
     */
    function circle(x: number, y: number, radius: number, color: Color): void;
  }

  // ========== Texture API ==========
  /** 2D texture/image class */
  class Texture {
    /**
     * Load a texture from file
     * @param path Path to image file
     */
    constructor(path: string);
    
    /**
     * Draw texture at position
     * @param x X coordinate
     * @param y Y coordinate
     */
    draw(x: number, y: number): void;
    
    /** Texture width in pixels */
    width: number;
    
    /** Texture height in pixels */
    height: number;
  }

  // ========== Math Extensions ==========
  interface Math {
    /**
     * Clamp a value between min and max
     * @param value Input value
     * @param min Minimum bound
     * @param max Maximum bound
     */
    clamp(value: number, min: number, max: number): number;
    
    /**
     * Linear interpolation
     * @param a Start value
     * @param b End value
     * @param t Interpolation factor (0-1)
     */
    lerp(a: number, b: number, t: number): number;
  }

  // ========== PlayStation 2 Controller Button Constants ==========
  const PAD_LEFT: number;
  const PAD_RIGHT: number;
  const PAD_UP: number;
  const PAD_DOWN: number;
  const PAD_CROSS: number;
  const PAD_CIRCLE: number;
  const PAD_SQUARE: number;
  const PAD_TRIANGLE: number;
  const PAD_START: number;
  const PAD_SELECT: number;
  const PAD_L1: number;
  const PAD_L2: number;
  const PAD_L3: number;
  const PAD_R1: number;
  const PAD_R2: number;
  const PAD_R3: number;

  // ========== Console Output ==========
  /**
   * Print to console/debug output
   * @param args Values to print
   */
  function print(...args: any[]): void;

  // ========== File System API ==========
  namespace File {
    /**
     * Read file contents
     * @param path File path
     */
    function read(path: string): string;
    
    /**
     * Write to file
     * @param path File path
     * @param content Content to write
     */
    function write(path: string, content: string): void;
    
    /**
     * Check if file exists
     * @param path File path
     */
    function exists(path: string): boolean;
  }
}

// Prevent TypeScript from treating this as a script
export {};